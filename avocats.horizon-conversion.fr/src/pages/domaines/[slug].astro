---
import Layout from "../../components/Layout.astro";
import CTA from "../../components/CTA.astro";
import FAQAccordion from "../../components/FAQAccordion.astro";
import domaines from "../../data/domaines.json";
import { buildTitle, metaDescription } from "../../lib/seo";

export function getStaticPaths() {
  return domaines.map((d) => ({ params: { slug: d.slug }, props: { d } }));
}

const { d } = Astro.props;

const title = buildTitle([`${d.nom} — SEO local & demandes qualifiées`, "Horizon Conversion"]);
const description = metaDescription(
  `Accompagnement webmarketing pour avocats en ${d.nom.toLowerCase()} : structure SEO local, pages services, suivi des demandes et optimisation conversion.`
);
---
<Layout title={title} description={description}>
  <section>
    <h1>{d.nom} : visibilité Google + prise de contact</h1>
    <p>
      Objectif : une présence Google claire et cohérente (pages service + local), avec un suivi des demandes
      (formulaire, clics d’appel) et des améliorations progressives.
    </p>

    <h2>Ce qu’on met en place</h2>
    <ul>
      {d.intents.map((i) => <li>{i}</li>)}
    </ul>

    <h2>Éléments de méthode</h2>
    <ul>
      {d.preuves.map((p) => <li>{p}</li>)}
    </ul>

    <CTA label={d.cta.label} href={d.cta.href} />
  </section>

  <section>
    <h2>Questions fréquentes</h2>
    <FAQAccordion items={d.faq} />
  </section>
</Layout>