---
// src/pages/villes/[ville].astro
import Layout from "../../layouts/Layout.astro";
import villes from "../../data/villes.json";
import services from "../../data/services.json";
import metiers from "../../data/metiers.json";
import casClients from "../../data/cas-clients.json";

export async function getStaticPaths() {
  return villes.map(ville => ({
    params: { ville: ville.id },
    props: { ville }
  }));
}

const { ville } = Astro.props;

// Services recommand√©s pour cette ville
const servicesRecommandes = services.filter(s => s.premium);

// M√©tiers principaux de cette ville (selon son profil)
const metiersVille = metiers.filter(m =>
  ville.profil === 'residentiel-ais√©' ? ['profession-liberale', 'commerces'].includes(m.id) :
    ville.profil === 'industriel' ? ['tpe-pme', 'artisans'].includes(m.id) :
      ville.profil === 'touristique' ? ['tourisme', 'commerces'].includes(m.id) :
        ville.profil === 'commercial' ? ['commerces', 'tpe-pme'].includes(m.id) :
          ville.profil === 'prefecture' ? ['tpe-pme', 'commerces', 'profession-liberale'].includes(m.id) :
            ['artisans', 'commerces', 'tpe-pme']
).slice(0, 6);

// Autres villes du m√™me d√©partement
const autresVilles = villes.filter(v => v.zone === ville.zone && v.id !== ville.id).slice(0, 8);

// Cas clients dans cette ville ou √† proximit√©
const casDansLaVille = casClients ? Object.values(casClients).flat().filter(c => c.villeId === ville.id) : [];
const casDansLaRegion = casClients ? Object.values(casClients).flat().filter(c =>
  c.villeId !== ville.id &&
  villes.find(v => v.id === c.villeId)?.zone === ville.zone
).slice(0, 3) : [];

const casAAfficher = casDansLaVille.length > 0 ? casDansLaVille.slice(0, 3) : casDansLaRegion;

// Stats de la ville (approximatives)
const statsVille = {
  entreprises: Math.floor(ville.population / 10) || 500,
  artisans: Math.floor(ville.population / 50) || 100,
  commerces: Math.floor(ville.population / 100) || 50
};

// Couleur selon le d√©partement
const zoneColor = ville.zone === "60" ? "bg-blue-50" : "bg-green-50";
const zoneTextColor = ville.zone === "60" ? "text-blue-700" : "text-green-700";
---

<Layout
    title={`${ville.nom} (${ville.codePostal}) - Expert SEO local`}
    description={`Expert SEO √† ${ville.nom} et ses environs. J'accompagne les artisans, commerces et entreprises du ${ville.zone === "60" ? "d√©partement de l'Oise" : "Val-d'Oise"}.`}
>

  <!-- HERO AM√âLIOR√â -->
  <section class={`${zoneColor} py-20 relative overflow-hidden`}>
    <div class="absolute right-0 top-0 w-96 h-96 bg-white/20 rounded-full blur-3xl"></div>
    <div class="container-custom relative z-10">
      <div class="max-w-4xl mx-auto">
        <nav class="text-sm text-gray-600 mb-8">
          <a href="/" class="hover:text-primary-600">Accueil</a> ‚Ä∫
          <a href="/villes" class="hover:text-primary-600">Villes</a> ‚Ä∫
          <span class="text-gray-900">{ville.nom}</span>
        </nav>

        <div class="flex items-center gap-3 mb-2">
          <h1 class="text-5xl font-bold text-gray-900">{ville.nom}</h1>
          <span class={`${zoneTextColor} text-sm font-semibold px-3 py-1 bg-white rounded-full`}>
            {ville.zone === "60" ? "Oise (60)" : "Val-d'Oise (95)"}
          </span>
        </div>

        <div class="flex flex-wrap gap-3 mb-6">
          <span class="bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full text-sm shadow-sm flex items-center gap-1">
            <span>üìÆ</span> {ville.codePostal}
          </span>
          <span class="bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full text-sm shadow-sm flex items-center gap-1">
            <span>üë•</span> {ville.population?.toLocaleString() || 'N/A'} habitants
          </span>
          <span class="bg-white/80 backdrop-blur-sm px-4 py-2 rounded-full text-sm shadow-sm flex items-center gap-1">
            <span>üè¢</span> {statsVille.entreprises}+ entreprises
          </span>
        </div>

        <p class="text-xl text-gray-700 mb-8 max-w-3xl">{ville.description}</p>

        <div class="bg-white/80 backdrop-blur-sm p-6 rounded-xl">
          <div class="flex items-center gap-3 mb-3">
            <span class="w-2 h-2 bg-primary-600 rounded-full"></span>
            <p class="font-semibold">Profil de la ville :</p>
          </div>
          <div class="flex flex-wrap gap-2">
            <span class="badge-consultant text-sm px-4 py-2">
              {ville.profil === 'residentiel-ais√©' && 'üè° R√©sidentiel ais√©'}
              {ville.profil === 'industriel' && 'üè≠ Industriel'}
              {ville.profil === 'touristique' && 'üè∞ Touristique'}
              {ville.profil === 'commercial' && 'üè™ Commercial'}
              {ville.profil === 'prefecture' && 'üèõÔ∏è Pr√©fecture'}
              {ville.profil === 'sous-prefecture' && 'üèõÔ∏è Sous-pr√©fecture'}
              {ville.profil === 'rural' && 'üå≥ Rural'}
              {ville.profil === 'artisanal' && 'üî® Artisanal'}
              {ville.profil === 'urbain-dense' && 'üèôÔ∏è Urbain dense'}
            </span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION : Acc√®s direct aux 576 pages combin√©es -->
  <section class="py-16 bg-white border-y">
    <div class="container-custom">
      <h2 class="text-3xl font-bold text-center mb-4">
        {ville.nom} : toutes nos <span class="text-primary-600">solutions</span>
      </h2>
      <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">
        Pour chaque service et chaque m√©tier, une page d√©di√©e.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
        {services.map(service => (
            <div class="bg-gray-50 p-4 rounded-xl">
              <h3 class="font-semibold text-lg mb-3 text-primary-600">{service.nom}</h3>
              <div class="space-y-2">
                {metiers.map(metier => (
                    <a
                        href={`/services/${service.id}/${metier.id}/${ville.id}`}
                        class="block text-sm text-gray-700 hover:text-primary-600 hover:translate-x-1 transition-all"
                    >
                      ‚Üí Pour {metier.nomCourt}
                    </a>
                ))}
              </div>
            </div>
        ))}
      </div>
    </div>
  </section>

  <!-- STATS RAPIDES ENRICHI√âES -->
  <section class="py-12 bg-white border-b">
    <div class="container-custom">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-3xl mx-auto text-center">
        <div class="bg-primary-50 p-4 rounded-xl shadow-sm">
          <div class="text-3xl font-bold text-primary-600">{ville.population?.toLocaleString() || 'N/A'}</div>
          <div class="text-xs text-gray-600">habitants</div>
        </div>
        <div class="bg-primary-50 p-4 rounded-xl shadow-sm">
          <div class="text-3xl font-bold text-primary-600">{ville.zone === "60" ? "Oise" : "Val-d'Oise"}</div>
          <div class="text-xs text-gray-600">d√©partement</div>
        </div>
        <div class="bg-primary-50 p-4 rounded-xl shadow-sm">
          <div class="text-3xl font-bold text-primary-600">{ville.alentours.length}</div>
          <div class="text-xs text-gray-600">communes alentours</div>
        </div>
        <div class="bg-primary-50 p-4 rounded-xl shadow-sm">
          <div class="text-3xl font-bold text-primary-600">{statsVille.entreprises}+</div>
          <div class="text-xs text-gray-600">entreprises</div>
        </div>
      </div>
    </div>
  </section>

  <!-- SERVICES PAR M√âTIER (LIENS PROFONDS) -->
  <section class="py-20">
    <div class="container-custom">
      <h2 class="text-3xl font-bold text-center mb-4">Mes services √† <span class="text-primary-600">{ville.nom}</span></h2>
      <p class="text-center text-gray-600 mb-12">Des solutions adapt√©es √† chaque m√©tier.</p>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {servicesRecommandes.slice(0, 6).map(service => (
            <div class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-all border border-gray-100">
              <h3 class="text-xl font-bold mb-3 text-primary-600">{service.nom}</h3>
              <p class="text-gray-600 text-sm mb-4 line-clamp-2">{service.description}</p>
              <div class="space-y-2">
                <a href={`/services/${service.id}/artisans/${ville.id}`} class="block text-sm text-gray-700 hover:text-primary-600 hover:translate-x-1 transition-all">
                  ‚Üí Pour les artisans
                </a>
                <a href={`/services/${service.id}/commerces/${ville.id}`} class="block text-sm text-gray-700 hover:text-primary-600 hover:translate-x-1 transition-all">
                  ‚Üí Pour les commerces
                </a>
                <a href={`/services/${service.id}/profession-liberale/${ville.id}`} class="block text-sm text-gray-700 hover:text-primary-600 hover:translate-x-1 transition-all">
                  ‚Üí Pour les professions lib√©rales
                </a>
              </div>
            </div>
        ))}
      </div>
    </div>
  </section>

  <!-- M√âTIERS CL√âS AVEC LIENS PROFONDS -->
  <section class="bg-gray-50 py-20">
    <div class="container-custom">
      <h2 class="text-3xl font-bold text-center mb-4">M√©tiers accompagn√©s √† <span class="text-primary-600">{ville.nom}</span></h2>
      <p class="text-center text-gray-600 mb-12">D√©couvrez les solutions pour chaque profession.</p>

      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
        {metiersVille.map(metier => (
            <div class="bg-white p-5 rounded-xl text-center hover:shadow-md transition-all group border border-gray-100">
              <div class="text-3xl mb-2">
                {metier.id === 'artisans' && 'üîß'}
                {metier.id === 'commerces' && 'üõçÔ∏è'}
                {metier.id === 'profession-liberale' && '‚öñÔ∏è'}
                {metier.id === 'tpe-pme' && 'üè≠'}
                {metier.id === 'reseaux-franchise' && 'ü•ñ'}
                {metier.id === 'tourisme' && 'üè®'}
              </div>
              <div class="font-semibold group-hover:text-primary-600">{metier.nomCourt}</div>
              <div class="text-xs text-gray-500 mt-1 line-clamp-1">{metier.description.split(',')[0]}</div>
              <div class="mt-3 space-y-1">
                <a href={`/services/seo-local/${metier.id}/${ville.id}`} class="text-xs text-primary-600 hover:underline block">SEO local ‚Üí</a>
                <a href={`/services/google-ads/${metier.id}/${ville.id}`} class="text-xs text-primary-600 hover:underline block">Google Ads ‚Üí</a>
              </div>
            </div>
        ))}
      </div>
    </div>
  </section>

  <!-- VILLES ALENTOURS (AM√âLIOR√âE) -->
  <section class="py-16">
    <div class="container-custom">
      <h2 class="text-3xl font-bold text-center mb-4">J'interviens aussi dans les environs</h2>
      <p class="text-center text-gray-600 mb-8">Je me d√©place dans toutes ces communes proches de {ville.nom}.</p>

      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3">
        {ville.alentours.map(alentour => {
          const nomAlentour = typeof alentour === 'string' ? alentour.split(' (')[0] : alentour;
          const description = typeof alentour === 'string' && alentour.includes('(')
            ? alentour.split('(')[1].replace(')', '')
            : '';

          return (
              <div class="bg-white p-4 rounded-xl border border-gray-100 text-center hover:shadow-md transition-all group">
                <div class="font-medium group-hover:text-primary-600">{nomAlentour}</div>
                {description && <div class="text-xs text-gray-500 mt-1">{description}</div>}
                <div class="mt-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <a href={`/villes/${ville.id}`} class="text-xs text-primary-600">Voir les services ‚Üí</a>
                </div>
              </div>
          );
        })}
      </div>
    </div>
  </section>

  <!-- R√âSULTATS LOCAUX (√âTUDES DE CAS) -->
  {casAAfficher.length > 0 && (
      <section class="bg-primary-50 py-20">
        <div class="container-custom">
          <h2 class="text-3xl font-bold text-center mb-4">R√©sultats pr√®s de chez vous</h2>
          <p class="text-center text-gray-700 mb-12 max-w-2xl mx-auto">
            Des professionnels comme vous ont d√©j√† obtenu des r√©sultats dans la r√©gion.
          </p>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto">
            {casAAfficher.slice(0, 3).map(cas => (
                <div class="bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all">
                  <div class="flex justify-between items-start mb-3">
                    <span class="badge-consultant text-xs">{cas.metier === 'artisans' ? 'Artisan' : cas.metier}</span>
                    <span class="text-sm text-gray-500">{cas.ville}</span>
                  </div>
                  <p class="font-semibold text-lg mb-1">{cas.nom}</p>
                  <p class="text-sm text-gray-600 mb-3">{cas.entreprise}</p>
                  <p class="text-2xl font-bold text-green-600 mb-3">{cas.resultat}</p>
                  <p class="text-gray-700 italic text-sm mb-3">"{cas.citation}"</p>
                  <a href={`/etudes-de-cas/${cas.etude}`} class="text-primary-600 text-sm hover:underline">
                    Voir l'√©tude compl√®te ‚Üí
                  </a>
                </div>
            ))}
          </div>
        </div>
      </section>
  )}

  <!-- ANALYSE CONCURRENTIELLE LOCALE -->
  <section class="py-20">
    <div class="container-custom">
      <h2 class="text-3xl font-bold text-center mb-4">Analyse concurrentielle √† {ville.nom}</h2>
      <p class="text-center text-gray-700 mb-12 max-w-2xl mx-auto">
        Exemple pour le mot-cl√© "{ville.profil === 'residentiel-ais√©' ? 'avocat' : ville.profil === 'industriel' ? 'transport' : 'plombier'} {ville.nom}"
      </p>

      <div class="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-md">
        <table class="w-full">
          <thead>
          <tr class="border-b">
            <th class="text-left py-3">Concurrent</th>
            <th class="text-left py-3">Position</th>
            <th class="text-left py-3">Points forts</th>
            <th class="text-left py-3">Opportunit√©</th>
          </tr>
          </thead>
          <tbody>
          <tr class="border-b">
            <td class="py-3">Concurrent A</td>
            <td class="py-3">#1</td>
            <td class="py-3">Avis (30), anciennet√©</td>
            <td class="py-3 text-green-600">Site non mobile</td>
          </tr>
          <tr class="border-b">
            <td class="py-3">Concurrent B</td>
            <td class="py-3">#3</td>
            <td class="py-3">Site rapide</td>
            <td class="py-3 text-green-600">Peu de contenu local</td>
          </tr>
          <tr>
            <td class="py-3 font-semibold">Vous</td>
            <td class="py-3">?</td>
            <td class="py-3">-</td>
            <td class="py-3 text-primary-600">√Ä jouer sur les avis et le contenu local</td>
          </tr>
          </tbody>
        </table>

        <p class="mt-6 text-sm text-gray-600 bg-gray-50 p-4 rounded-lg">
          <strong>Mon analyse :</strong> En cr√©ant du contenu sur les {ville.alentours.length} villages autour et en optimisant votre fiche Google, vous pouvez atteindre le top 3 en 3-4 mois. La concurrence est mod√©r√©e √† {ville.nom}, c'est le moment d'agir.
        </p>
      </div>
    </div>
  </section>

  <!-- TEMOIGNAGE CLIENT -->
  <section class="bg-gray-50 py-16">
    <div class="container-custom max-w-3xl">
      <div class="bg-white p-8 rounded-2xl shadow-md">
        <div class="flex items-start gap-4">
          <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center flex-shrink-0 text-3xl">
            üí¨
          </div>
          <div>
            <p class="text-lg italic text-gray-700 mb-4">
              "{ville.id === 'meru' && "Robert, plombier √† M√©ru, a multipli√© ses appels par 6 gr√¢ce au SEO local."}
              {ville.id === 'chantilly' && "Virginie, h√¥teli√®re √† Chantilly, ne d√©pend plus de Booking."}
              {ville.id === 'cergy' && "Sophie, caviste √† Cergy, a augment√© sa client√®le de 30%."}
              {ville.id === 'montmorency' && "Ma√Ætre Dupont, avocat √† Montmorency, a doubl√© ses rendez-vous."}
              {ville.id === 'compiegne' && "Franck, transporteur √† Compi√®gne, re√ßoit des devis toutes les semaines."}
              {ville.id === 'beauvais' && "Jean-Claude, √©lectricien √† Beauvais, est pass√© #3 sur Google."}
              {ville.id === 'argenteuil' && "Isabelle, coiffeuse √† Argenteuil, a +35% de clients."}
              {ville.id === 'senlis' && "Le Dr. Martin √† Senlis a doubl√© ses rendez-vous."}"
            </p>
            <p class="font-semibold">Un professionnel √† {ville.nom}</p>
            <a href="/etudes-de-cas" class="inline-block mt-3 text-primary-600 text-sm hover:underline">
              Voir toutes les √©tudes de cas ‚Üí
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ LOCALE -->
  <section class="py-20">
    <div class="container-custom max-w-3xl">
      <h2 class="text-3xl font-bold text-center mb-8">Questions sur le SEO √† {ville.nom}</h2>

      <div class="space-y-4">
        <details class="bg-gray-50 p-6 rounded-lg">
          <summary class="font-semibold cursor-pointer">Combien de temps pour √™tre visible √† {ville.nom} ?</summary>
          <p class="mt-3 text-gray-600">Les premiers r√©sultats apparaissent g√©n√©ralement entre 1 et 3 mois. √Ä {ville.nom}, la concurrence est {ville.zone === '60' ? 'mod√©r√©e' : 'plus forte'}, ce qui permet souvent des r√©sultats rapides avec une bonne strat√©gie.</p>
        </details>

        <details class="bg-gray-50 p-6 rounded-lg">
          <summary class="font-semibold cursor-pointer">Quel budget pour un professionnel √† {ville.nom} ?</summary>
          <p class="mt-3 text-gray-600">Je propose des devis personnalis√©s apr√®s un audit gratuit. Pour {ville.nom}, comptez entre 300‚Ç¨ et 800‚Ç¨ par mois selon vos objectifs et votre secteur.</p>
        </details>

        <details class="bg-gray-50 p-6 rounded-lg">
          <summary class="font-semibold cursor-pointer">Intervenez-vous aussi dans les villages autour ?</summary>
          <p class="mt-3 text-gray-600">Oui ! Je me d√©place dans toutes les communes autour de {ville.nom} : {ville.alentours.slice(0, 5).map(a => typeof a === 'string' ? a.split(' (')[0] : a).join(', ')} et bien d'autres.</p>
        </details>

        <details class="bg-gray-50 p-6 rounded-lg">
          <summary class="font-semibold cursor-pointer">Puis-je vous rencontrer √† {ville.nom} ?</summary>
          <p class="mt-3 text-gray-600">Absolument ! Je me d√©place r√©guli√®rement √† {ville.nom} pour rencontrer mes clients. Je peux venir dans votre commerce, votre bureau ou un caf√© du centre-ville.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- AUTRES VILLES DU D√âPARTEMENT -->
  <section class="bg-gray-50 py-16">
    <div class="container-custom">
      <h3 class="text-xl font-bold text-center mb-6">Autres villes du {ville.zone === "60" ? "d√©partement de l'Oise" : "Val-d'Oise"}</h3>
      <div class="flex flex-wrap justify-center gap-3">
        {autresVilles.map(autreVille => (
            <a
                href={`/villes/${autreVille.id}`}
                class="bg-white px-4 py-2 rounded-full text-sm hover:bg-primary-100 hover:text-primary-600 transition-colors"
            >
              {autreVille.nom}
            </a>
        ))}
        <a href="/villes" class="bg-primary-50 text-primary-600 px-4 py-2 rounded-full text-sm hover:bg-primary-100 transition-colors">
          Toutes les villes
        </a>
      </div>
    </div>
  </section>

  <!-- RESSOURCES LOCALES -->
  <section class="py-16">
    <div class="container-custom">
      <h2 class="text-3xl font-bold text-center mb-4">Ressources pour les professionnels √† {ville.nom}</h2>
      <p class="text-center text-gray-600 mb-8">Guides et articles pour vous aider.</p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
        <a href="/ressources/guides/seo-local-artisans-2025" class="bg-white p-6 rounded-xl border border-gray-100 hover:shadow-md transition-all">
          <div class="text-3xl mb-3">üìò</div>
          <h3 class="font-bold mb-2">Guide SEO local</h3>
          <p class="text-sm text-gray-600">Toutes les cl√©s pour √™tre visible dans votre ville.</p>
          <span class="text-primary-600 text-sm">T√©l√©charger ‚Üí</span>
        </a>

        <a href="/ressources/blog/avis-google-importance" class="bg-white p-6 rounded-xl border border-gray-100 hover:shadow-md transition-all">
          <div class="text-3xl mb-3">üìù</div>
          <h3 class="font-bold mb-2">Pourquoi les avis sont cruciaux</h3>
          <p class="text-sm text-gray-600">Comment obtenir plus d'avis et mieux convertir.</p>
          <span class="text-primary-600 text-sm">Lire l'article ‚Üí</span>
        </a>

        <a href="/methodologie" class="bg-white p-6 rounded-xl border border-gray-100 hover:shadow-md transition-all">
          <div class="text-3xl mb-3">üîç</div>
          <h3 class="font-bold mb-2">Ma m√©thode</h3>
          <p class="text-sm text-gray-600">D√©couvrez comment je travaille en 4 phases.</p>
          <span class="text-primary-600 text-sm">D√©couvrir ‚Üí</span>
        </a>
      </div>
    </div>
  </section>

  <!-- POURQUOI TRAVAILLER AVEC MOI (AM√âLIOR√â) -->
  <section class="bg-primary-50 py-20">
    <div class="container-custom">
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div>
          <h2 class="text-3xl font-bold mb-6">Pourquoi travailler avec moi √† <span class="text-primary-600">{ville.nom}</span> ?</h2>
          <ul class="space-y-4">
            <li class="flex items-start gap-3">
              <span class="text-primary-600 text-xl">üìç</span>
              <div>
                <span class="font-semibold">Je connais le terrain</span>
                <p class="text-gray-600">Bas√© dans l'Oise, je connais les sp√©cificit√©s de {ville.nom} et des environs. Je sais comment les habitants cherchent des professionnels comme vous.</p>
              </div>
            </li>
            <li class="flex items-start gap-3">
              <span class="text-primary-600 text-xl">üè¢</span>
              <div>
                <span class="font-semibold">Des clients dans la ville</span>
                <p class="text-gray-600">J'accompagne d√©j√† des professionnels √† {ville.nom}, je connais le march√© local et la concurrence.</p>
              </div>
            </li>
            <li class="flex items-start gap-3">
              <span class="text-primary-600 text-xl">ü§ù</span>
              <div>
                <span class="font-semibold">Je me d√©place</span>
                <p class="text-gray-600">Pas de probl√®me pour vous rencontrer √† {ville.nom} ou dans les environs. La proximit√© est mon ADN.</p>
              </div>
            </li>
          </ul>
        </div>

        <div class="bg-white p-8 rounded-xl shadow-lg">
          <h2 class="text-2xl font-bold mb-4">Un client √† {ville.nom}</h2>
          <div class="bg-gray-50 p-4 rounded-lg mb-4">
            <p class="italic text-gray-700 mb-2">
              "{ville.id === 'meru' && "Robert, plombier √† M√©ru, a multipli√© ses appels par 6."}
              {ville.id === 'chantilly' && "Virginie, h√¥teli√®re √† Chantilly, ne d√©pend plus de Booking."}
              {ville.id === 'cergy' && "Sophie, caviste √† Cergy, a augment√© sa client√®le de 30%."}
              {ville.id === 'montmorency' && "Ma√Ætre Dupont, avocat √† Montmorency, a doubl√© ses rendez-vous."}
              {ville.id === 'compiegne' && "Franck, transporteur √† Compi√®gne, re√ßoit des devis toutes les semaines."}
              {ville.id === 'beauvais' && "Jean-Claude, √©lectricien √† Beauvais, est pass√© #3 sur Google."}
              {ville.id === 'argenteuil' && "Isabelle, coiffeuse √† Argenteuil, a +35% de clients."}
              {ville.id === 'senlis' && "Le Dr. Martin √† Senlis a doubl√© ses rendez-vous."}"
            </p>
            <p class="font-semibold text-sm">- Professionnel √† {ville.nom}</p>
          </div>

          <div class="bg-green-50 p-4 rounded-lg mb-4">
            <p class="font-bold text-green-700">R√©sultat obtenu :</p>
            <p class="text-2xl font-bold text-green-600">
              {ville.id === 'meru' && "+650% d'appels"}
              {ville.id === 'chantilly' && "+80% r√©servations directes"}
              {ville.id === 'cergy' && "+30% de clients"}
              {ville.id === 'montmorency' && "+200% de rendez-vous"}
              {ville.id === 'compiegne' && "+150% de devis"}
              {ville.id === 'beauvais' && "+400% de visibilit√©"}
              {ville.id === 'argenteuil' && "+35% de clients"}
              {ville.id === 'senlis' && "+180% de rendez-vous"}
            </p>
          </div>

          <a href="/contact" class="btn-primary w-full text-center py-4">
            Me contacter pour {ville.nom}
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA FINAL -->
  <section class="bg-primary-600 text-white py-16">
    <div class="container-custom text-center">
      <h2 class="text-3xl font-bold mb-4">Vous √™tes √† {ville.nom} ?</h2>
      <p class="text-xl mb-8 opacity-90 max-w-2xl mx-auto">
        Je propose un audit gratuit pour analyser votre visibilit√© locale et voir comment attirer plus de clients.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="/contact" class="bg-white text-primary-600 hover:bg-gray-100 px-8 py-4 rounded-full font-semibold text-lg transition-colors">
          Demander mon audit gratuit
        </a>
        <a href="tel:0660921008" class="bg-transparent border-2 border-white text-white hover:bg-white/10 px-8 py-4 rounded-full font-semibold text-lg transition-colors">
          üìû 06 60 92 10 08
        </a>
      </div>
    </div>
  </section>
</Layout>