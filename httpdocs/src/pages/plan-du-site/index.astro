---
// src/pages/plan-du-site/index.astro
import Head from "../../components/Head.astro";
import TopBar from "../../components/TopBar.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import JavaScripts from "../../components/JavaScripts.astro";

const SITE =
  (import.meta as any).env?.PUBLIC_SITE_URL ||
  (Astro.site ? String(Astro.site) : "");

const ASSET_BASE =
  (((import.meta as any).env?.PUBLIC_ASSET_BASE as string) || "/_assets_").replace(/\/$/, "");

const canonical = SITE ? new URL(Astro.url.pathname, SITE).toString() : Astro.url.toString();

const contact = {
  brand: "Horizon Conversion",
  email: "contact@horizon-conversion.fr",
  phoneDisplay: "06 60 92 10 08",
  linkedin: "https://www.linkedin.com/",
};

const seo = {
  title: "Plan du site | Horizon Conversion",
  description:
    "Plan du site Horizon Conversion : pages principales, services webmarketing, zones d’intervention (Oise & Val-d’Oise) et pages légales.",
};

const breadcrumb = [
  { label: "Accueil", href: "/" },
  { label: "Plan du site", href: "/plan-du-site/" },
];

const pages = {
  main: [
    { label: "Accueil", href: "/" },
    { label: "Services", href: "/services/" },
    { label: "Zones", href: "/zones/" },
    { label: "FAQ", href: "/faqs/" },
    { label: "Blog", href: "/blog/" },
    { label: "Contact", href: "/contact/" },
  ],
  services: [
    { label: "SEO local", href: "/services/seo-local/" },
    { label: "Google Ads", href: "/services/google-ads/" },
    { label: "CRO", href: "/services/cro/" },
    { label: "Analytics / Tracking", href: "/services/analytics/" },
    { label: "Contenu SEO", href: "/services/contenu-seo/" },
    { label: "Social Media Marketing", href: "/services/social/" },
  ],
  legal: [
    { label: "Mentions légales", href: "/mentions-legales/" },
    { label: "Politique de confidentialité", href: "/politique-confidentialite/" },
    { label: "CGU", href: "/cgu/" },
    { label: "Plan du site", href: "/plan-du-site/" },
  ],
};

const zones = {
  oise: {
    label: "Oise (60)",
    href: "/zones/oise/",
    cities: [
      { label: "Beauvais", href: "/zones/oise/beauvais/" },
      { label: "Chantilly", href: "/zones/oise/chantilly/" },
      { label: "Clermont", href: "/zones/oise/clermont/" },
      { label: "Compiègne", href: "/zones/oise/compiegne/" },
      { label: "Creil", href: "/zones/oise/creil/" },
      { label: "Montataire", href: "/zones/oise/montataire/" },
      { label: "Nogent-sur-Oise", href: "/zones/oise/nogent-sur-oise/" },
      { label: "Noyon", href: "/zones/oise/noyon/" },
      { label: "Pont-Sainte-Maxence", href: "/zones/oise/pont-sainte-maxence/" },
      { label: "Saint-Leu-d’Esserent", href: "/zones/oise/saint-leu-d-esserent/" },
      { label: "Senlis", href: "/zones/oise/senlis/" },
    ],
  },
  valdoise: {
    label: "Val-d’Oise (95)",
    href: "/zones/val-doise/",
    cities: [
      { label: "Argenteuil", href: "/zones/val-doise/argenteuil/" },
      { label: "Bezons", href: "/zones/val-doise/bezons/" },
      { label: "Cergy", href: "/zones/val-doise/cergy/" },
      { label: "Enghien-les-Bains", href: "/zones/val-doise/enghien-les-bains/" },
      { label: "Gonesse", href: "/zones/val-doise/gonesse/" },
      { label: "Goussainville", href: "/zones/val-doise/goussainville/" },
      { label: "L’Isle-Adam", href: "/zones/val-doise/lisle-adam/" },
      { label: "Pontoise", href: "/zones/val-doise/pontoise/" },
      { label: "Sarcelles", href: "/zones/val-doise/sarcelles/" },
    ],
  },
};

// JSON-LD (simple)
const jsonLd = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  name: "Plan du site",
  url: canonical,
  isPartOf: { "@type": "WebSite", name: contact.brand, url: SITE || canonical },
};
---

<!doctype html>
<html dir="ltr" lang="fr-FR">
  <Head {seo} {canonical} jsonLd={jsonLd} />
  <body class="stretched">
    <div id="wrapper">
      <TopBar ASSET_BASE={ASSET_BASE} />
      <Header ASSET_BASE={ASSET_BASE} />

      <!-- Hero -->
      <section class="page-title page-title-parallax parallax scroll-detect page-title-center dark include-header include-topbar">
        <img src={`${ASSET_BASE}/images/services/analysis-title.jpg`} class="parallax-bg" alt="Plan du site" />
        <div id="particles-line"></div>

        <div class="container">
          <div class="page-title-row">
            <div class="page-title-content">
              <div class="badge rounded-pill border border-light text-light">Navigation</div>
              <h1>Plan du site</h1>
              <p class="mt-3 mb-0 text-white-50" style="max-width: 920px; margin-inline: auto;">
                Retrouvez toutes les pages importantes : services, zones d’intervention, ressources et pages légales.
              </p>
            </div>

            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                {breadcrumb.map((b, idx) => (
                  <li
                    class={`breadcrumb-item ${idx === breadcrumb.length - 1 ? "active" : ""}`}
                    aria-current={idx === breadcrumb.length - 1 ? "page" : undefined}
                  >
                    {idx === breadcrumb.length - 1 ? b.label : <a href={b.href}>{b.label}</a>}
                  </li>
                ))}
              </ol>
            </nav>
          </div>
        </div>

        <div class="video-overlay z-1" style="background-image: linear-gradient(to top, rgba(254,150,3,0.5), #39384D);"></div>
      </section>

      <!-- Content -->
      <section id="content">
        <div class="content-wrap pb-0">
          <div class="container">

            <div class="row justify-content-between align-items-start col-mb-50">

              <!-- Col 1: pages principales -->
              <div class="col-lg-4">
                <div class="badge rounded-pill badge-default">Pages</div>
                <h2 class="h3 text-transform-none ls-0 mt-2">Pages principales</h2>

                <div class="card shadow-sm border-0 mt-3">
                  <div class="card-body p-4">
                    <ul class="iconlist ms-0 mb-0">
                      {pages.main.map((p) => (
                        <li class="mb-2">
                          <i class="fa-solid fa-link text-smaller color"></i>
                          <a href={p.href} class="text-dark"><u>{p.label}</u></a>
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>

                <div class="clear line my-4"></div>

                <div class="badge rounded-pill badge-default">Services</div>
                <h3 class="h4 text-transform-none ls-0 mt-2">Prestations</h3>

                <div class="card shadow-sm border-0 mt-3">
                  <div class="card-body p-4">
                    <ul class="iconlist ms-0 mb-0">
                      {pages.services.map((s) => (
                        <li class="mb-2">
                          <i class="fa-solid fa-check text-smaller color"></i>
                          <a href={s.href} class="text-dark"><u>{s.label}</u></a>
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>
              </div>

              <!-- Col 2: Zones Oise -->
              <div class="col-lg-4">
                <div class="badge rounded-pill badge-default">Zones</div>
                <h2 class="h3 text-transform-none ls-0 mt-2">{zones.oise.label}</h2>

                <div class="card shadow-sm border-0 mt-3">
                  <div class="card-body p-4">
                    <p class="text-muted mb-3">
                      <a href={zones.oise.href} class="text-dark"><u>Voir la page {zones.oise.label}</u></a>
                    </p>
                    <div class="row g-2">
                      {zones.oise.cities.map((c) => (
                        <div class="col-12">
                          <a class="d-flex align-items-center justify-content-between p-2 rounded h-bg-light" href={c.href} style="text-decoration:none;">
                            <span class="text-dark fw-semibold">{c.label}</span>
                            <i class="bi-arrow-right text-black-50"></i>
                          </a>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </div>

              <!-- Col 3: Zones Val-d'Oise + Légal -->
              <div class="col-lg-4">
                <div class="badge rounded-pill badge-default">Zones</div>
                <h2 class="h3 text-transform-none ls-0 mt-2">{zones.valdoise.label}</h2>

                <div class="card shadow-sm border-0 mt-3">
                  <div class="card-body p-4">
                    <p class="text-muted mb-3">
                      <a href={zones.valdoise.href} class="text-dark"><u>Voir la page {zones.valdoise.label}</u></a>
                    </p>
                    <div class="row g-2">
                      {zones.valdoise.cities.map((c) => (
                        <div class="col-12">
                          <a class="d-flex align-items-center justify-content-between p-2 rounded h-bg-light" href={c.href} style="text-decoration:none;">
                            <span class="text-dark fw-semibold">{c.label}</span>
                            <i class="bi-arrow-right text-black-50"></i>
                          </a>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>

                <div class="clear line my-4"></div>

                <div class="badge rounded-pill badge-default">Légal</div>
                <h3 class="h4 text-transform-none ls-0 mt-2">Pages légales</h3>

                <div class="card shadow-sm border-0 mt-3">
                  <div class="card-body p-4">
                    <ul class="iconlist ms-0 mb-0">
                      {pages.legal.map((l) => (
                        <li class="mb-2">
                          <i class="fa-solid fa-file-lines text-smaller color"></i>
                          <a href={l.href} class="text-dark"><u>{l.label}</u></a>
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>

              </div>
            </div>

          </div>

          <div class="clear"></div>

          <!-- CTA section -->
          <div
            class="section mt-6 mb-0"
            style={{
              background: `url(${ASSET_BASE}/images/sections/1.jpg) no-repeat center center`,
              backgroundSize: "cover",
              padding: "90px 0",
            }}
          >
            <div class="container">
              <div class="row justify-content-between align-items-center">
                <div class="col-md-7">
                  <div class="heading-block border-bottom-0 mb-4">
                    <div class="badge rounded-pill badge-default">Besoin d’un plan ?</div>
                    <h3 class="text-transform-none ls-0">On structure ton acquisition en 30 min</h3>
                  </div>
                  <p class="mb-0">
                    Donne ton site + ta zone + ton objectif (appels, devis, RDV), je te renvoie 3 priorités actionnables.
                  </p>
                </div>
                <div class="col-md-4 text-md-end mt-4 mt-md-0">
                  <a href="/contact/" class="button button-rounded button-large text-transform-none ls-0">
                    Demander un mini-audit
                  </a>
                </div>
              </div>
            </div>
          </div>

        </div>
      </section>

      <Footer ASSET_BASE={ASSET_BASE} contact={contact} />
    </div>

    <div id="gotoTop" class="uil uil-angle-up"></div>

    <JavaScripts ASSET_BASE={ASSET_BASE} />
    <script is:inline src={`${ASSET_BASE}/js/particles/particles.min.js`}></script>
    <script is:inline src={`${ASSET_BASE}/js/particles/particles-line.js`}></script>
  </body>
</html>