---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Contact | Horizon Conversion" description="Contactez Horizon Conversion pour votre projet SEO dans l'Oise et le Val-d'Oise. Audit gratuit, r√©ponse sous 24h.">

  <!-- Hero simplifi√© -->
  <section class="bg-gradient-to-br from-primary-50 to-indigo-50 py-12">
    <div class="container-custom text-center">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">Parlons de <span class="text-primary-600">votre projet</span></h1>
      <p class="text-xl text-gray-700 max-w-2xl mx-auto">
        Audit gratuit ‚Ä¢ R√©ponse sous 24h ‚Ä¢ Sans engagement
      </p>
    </div>
  </section>

  <div class="container-custom py-12">
    <div class="grid md:grid-cols-2 gap-12">

      <!-- COLONNE GAUCHE : INFOS + R√âASSURANCE -->
      <div>
        <!-- Badges de r√©assurance -->
        <div class="flex flex-wrap gap-3 mb-6">
          <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1">
            <span>‚ö°</span> R√©ponse sous 24h
          </span>
          <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1">
            <span>üéØ</span> Audit gratuit
          </span>
          <span class="bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1">
            <span>üîì</span> Sans engagement
          </span>
        </div>

        <p class="text-lg text-gray-700 mb-8">
          Discutons de vos objectifs. Je vous propose un √©change gratuit pour analyser votre situation et voir comment je peux vous aider √† d√©velopper votre activit√© locale.
        </p>

        <!-- Statistiques de confiance -->
        <div class="grid grid-cols-3 gap-4 mb-8">
          <div class="text-center">
            <div class="text-2xl font-bold text-primary-600">82+</div>
            <div class="text-xs text-gray-600">clients accompagn√©s</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-primary-600">4,9‚òÖ</div>
            <div class="text-xs text-gray-600">avis Google</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-primary-600">16</div>
            <div class="text-xs text-gray-600">villes</div>
          </div>
        </div>

        <!-- Coordonn√©es -->
        <div class="space-y-4 bg-gray-50 p-6 rounded-xl mb-8">
          <h3 class="font-semibold text-lg">Me contacter directement</h3>

          <div class="flex items-center gap-3">
            <span class="text-2xl">üìû</span>
            <a href="tel:0660921008" class="text-primary-600 text-xl hover:underline">06 60 92 10 08</a>
          </div>

          <div class="flex items-center gap-3">
            <span class="text-2xl">‚úâÔ∏è</span>
            <a href="mailto:contact@horizon-conversion.fr" class="text-primary-600 text-xl hover:underline">contact@horizon-conversion.fr</a>
          </div>

          <div class="flex items-start gap-3">
            <span class="text-2xl">üìç</span>
            <div>
              <p class="font-semibold">Zones d'intervention :</p>
              <p>Oise (60) et Val-d'Oise (95)</p>
              <p class="text-sm text-gray-600 mt-1">Je me d√©place dans les deux d√©partements.</p>
            </div>
          </div>
        </div>

        <!-- PRISE DE RDV RAPIDE (ALTERNATIVE HAUTE CONVERSION) -->
        <div class="bg-primary-50 p-6 rounded-xl">
          <h3 class="font-semibold text-lg mb-3 flex items-center gap-2">
            <span>üìÖ</span> Prendre rendez-vous directement
          </h3>
          <p class="text-sm text-gray-600 mb-4">
            Choisissez un cr√©neau qui vous convient pour un √©change de 30 minutes (visio ou t√©l√©phone).
          </p>

          <!-- Cr√©neaux rapides (exemples) -->
          <div class="grid grid-cols-2 gap-2 mb-4">
            <a href="https://calendly.com/horizon-conversion/30min" target="_blank" class="bg-white text-center py-2 px-3 rounded-lg text-sm hover:shadow-md transition-all border border-gray-200">
              Aujourd'hui 14h
            </a>
            <a href="https://calendly.com/horizon-conversion/30min" target="_blank" class="bg-white text-center py-2 px-3 rounded-lg text-sm hover:shadow-md transition-all border border-gray-200">
              Demain 10h
            </a>
            <a href="https://calendly.com/horizon-conversion/30min" target="_blank" class="bg-white text-center py-2 px-3 rounded-lg text-sm hover:shadow-md transition-all border border-gray-200">
              Demain 15h
            </a>
            <a href="https://calendly.com/horizon-conversion/30min" target="_blank" class="bg-white text-center py-2 px-3 rounded-lg text-sm hover:shadow-md transition-all border border-gray-200">
              Apr√®s-demain
            </a>
          </div>

          <a href="https://calendly.com/horizon-conversion/30min" target="_blank" class="btn-primary w-full text-center block">
            Voir tous les cr√©neaux
          </a>
        </div>
      </div>

      <!-- COLONNE DROITE : FORMULAIRE AM√âLIOR√â -->
      <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100">
        <h2 class="text-2xl font-bold mb-4">Envoyez-moi un message</h2>

        <!-- Micro-phrase de r√©assurance -->
        <p class="text-sm text-gray-600 mb-6 flex items-center gap-2">
          <span class="w-2 h-2 bg-green-500 rounded-full"></span>
          <span>R√©ponse garantie sous 24h (souvent moins !)</span>
        </p>

        <form class="space-y-4" method="POST" action="/contact" id="contact-form">
          <div>
            <label class="block text-sm font-medium mb-1">Nom complet <span class="text-red-500">*</span></label>
            <input type="text" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" required>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">Email <span class="text-red-500">*</span></label>
            <input type="email" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" required>
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">T√©l√©phone</label>
            <input type="tel" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Optionnel mais recommand√©">
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">Votre ville</label>
            <input type="text" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Ex: Beauvais, Cergy...">
          </div>

          <div>
            <label class="block text-sm font-medium mb-1">Message <span class="text-red-500">*</span></label>
            <textarea rows="4" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500" placeholder="Parlez-moi de votre projet, vos objectifs, vos besoins..." required></textarea>
          </div>

          <!-- Checkbox consentement -->
          <div class="flex items-start gap-2">
            <input type="checkbox" id="consent" class="mt-1" required>
            <label for="consent" class="text-xs text-gray-600">
              J'accepte que mes donn√©es soient utilis√©es pour me recontacter.
              <a href="/politique-confidentialite" class="text-primary-600 hover:underline">Politique de confidentialit√©</a>.
              <span class="text-red-500">*</span>
            </label>
          </div>

          <!-- Anti-spam invisible (honeypot) -->
          <div class="hidden">
            <input type="text" name="_honey" tabindex="-1" autocomplete="off">
          </div>

          <!-- Bouton avec √©tat de chargement -->
          <button type="submit" class="btn-primary w-full py-4 text-lg relative" id="submit-btn">
            <span class="submit-text">Demander mon audit gratuit</span>
            <span class="submit-loader hidden absolute inset-0 flex items-center justify-center">
              <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </span>
          </button>
        </form>

        <!-- Message de confirmation (affich√© apr√®s envoi) -->
        <div id="success-message" class="hidden mt-4 p-4 bg-green-50 text-green-700 rounded-lg text-center">
          <p class="font-semibold">Message envoy√© !</p>
          <p class="text-sm">Je vous r√©ponds sous 24h maximum.</p>
        </div>

        <!-- R√©assurance suppl√©mentaire -->
        <p class="text-xs text-gray-400 text-center mt-4">
          üîí Aucun spam - Donn√©es confidentielles
        </p>
      </div>
    </div>

    <!-- SECTION FOIRE AUX QUESTIONS CONTACT -->
    <section class="mt-20 max-w-3xl mx-auto">
      <h2 class="text-2xl font-bold text-center mb-8">Questions avant de <span class="text-primary-600">nous contacter ?</span></h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-gray-50 p-4 rounded-lg">
          <h3 class="font-semibold mb-2">Combien de temps pour une r√©ponse ?</h3>
          <p class="text-sm text-gray-600">Je r√©ponds personnellement sous 24h maximum, souvent beaucoup plus rapidement.</p>
        </div>
        <div class="bg-gray-50 p-4 rounded-lg">
          <h3 class="font-semibold mb-2">L'audit est-il vraiment gratuit ?</h3>
          <p class="text-sm text-gray-600">Oui, sans engagement. C'est l'occasion de faire connaissance et d'analyser votre situation.</p>
        </div>
        <div class="bg-gray-50 p-4 rounded-lg">
          <h3 class="font-semibold mb-2">Puis-je vous rencontrer ?</h3>
          <p class="text-sm text-gray-600">Absolument ! Je me d√©place dans tout l'Oise et le Val-d'Oise. Indiquez votre ville.</p>
        </div>
        <div class="bg-gray-50 p-4 rounded-lg">
          <h3 class="font-semibold mb-2">Que se passe-t-il apr√®s ?</h3>
          <p class="text-sm text-gray-600">On √©change, j'analyse votre situation, et je vous propose des pistes concr√®tes.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- SCRIPT POUR LE FORMULAIRE -->
  <script>
    const form = document.getElementById('contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const submitText = submitBtn.querySelector('.submit-text');
    const submitLoader = submitBtn.querySelector('.submit-loader');
    const successMsg = document.getElementById('success-message');

    if (form) {
      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        // D√©sactiver le bouton et afficher le loader
        submitBtn.disabled = true;
        submitText.classList.add('opacity-0');
        submitLoader.classList.remove('hidden');

        // Simuler l'envoi (√† remplacer par votre vrai endpoint)
        await new Promise(resolve => setTimeout(resolve, 1500));

        // Cacher le formulaire, afficher le message de succ√®s
        form.classList.add('hidden');
        successMsg.classList.remove('hidden');

        // Optionnel : envoyer les donn√©es √† votre backend
        // const formData = new FormData(form);
        // await fetch('/api/contact', { method: 'POST', body: formData });
      });
    }
  </script>
</Layout>