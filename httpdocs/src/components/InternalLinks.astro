---
// src/components/InternalLinks.astro

import { getInternalLinks } from "../lib/routing";

type Props = {
  type: "service" | "serviceVille" | "zone" | "zoneVille" | "article";
  service?: string;
  zone?: string;
  ville?: string;
  article?: string;
  max?: number;
  title?: string;
  className?: string;
};

const {
  type,
  service,
  zone,
  ville,
  article,
  max = 10,
  title = "À lire / à voir aussi",
  className = ""
} = Astro.props as Props;

const links = getInternalLinks({ type, service, zone, ville, article, max });
if (!links.length) return;
---

<section class={`hc-internal-links ${className}`} aria-label={title}>
  <h2>{title}</h2>
  <ul>
    {links.map((l) => (
      <li><a href={l.href}>{l.label}</a></li>
    ))}
  </ul>
</section>