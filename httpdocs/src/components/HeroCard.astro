---
// src/components/HeroCard.astro
const { data, contexte, cta } = Astro.props;

// data attendu : hero_card.json
const d = data?.defaults ?? data ?? {};

const badge = d.badge ?? d.kicker ?? "Horizon Conversion";
const h2 = d.h2 ?? d.title ?? "Obtenir plus de demandes";
const description = d.description ?? d.subtitle ?? "Audit gratuit, plan clair, mise en place simple.";

const cta1 = d.cta1 ?? { label: d.primaryCta ?? "Demander un audit (gratuit)", href: "/contact/" };
const cta2 = d.cta2 ?? { label: d.secondaryCta ?? "Être rappelé", href: "/contact/" };

const h3 = d.h3 ?? "Ce que vous obtenez";
const h3desc = d.h3desc ?? "Des actions utiles, orientées appels + formulaires.";

const checklist = Array.isArray(d.checklist) ? d.checklist : (Array.isArray(d.bullets) ? d.bullets : []);
---

<!-- Hero ============================================= -->
<div class="card mx-auto mw-md border-0 shadow rounded-4 card-seo-about mb-5 mb-lg-0">
  <div class="card-body p-5">
    <div class="row align-items-center">
      <div class="col-md-6">
        <div class="heading-block border-bottom-0 mb-0">
          <div class="badge rounded-pill badge-default">{badge}</div>
          <h2 class="text-transform-none ls-0 mb-3">{h2}</h2>
          <p>{description}</p>

          <a href={cta1.href ?? "#"} class="button button-rounded text-capitalize m-0 ls-0">
            {cta1.label ?? "Demander un audit (gratuit)"}
          </a>

          <a href={cta2.href ?? "#"} class="button button-rounded button-light text-dark bg-white border text-transform-none ls-0 ms-2">
            {cta2.label ?? "Être rappelé"}
          </a>
        </div>
      </div>

      <div class="col-md-6">
        <div class="feature-box flex-column">
          <div class="fbox-content">
            <h3 class="text-transform-none ls-0 text-larger">{h3}</h3>
            <p class="text-smaller">{h3desc}</p>
          </div>

          {checklist.length > 0 && (
              <ul class="iconlist ms-3 mt-4 mb-0">
                {checklist.map((item) => (
                    <li class="d-block mb-2 text-muted">
                      <i class="fa-solid fa-check text-smaller color me-1"></i> {item}
                    </li>
                ))}
              </ul>
          )}
        </div>
      </div>

    </div>
  </div>
</div>
