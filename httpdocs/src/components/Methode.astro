---
// src/components/Methode.astro
const { data, contexte, config } = Astro.props;

const items = Array.isArray(data?.steps) ? data.steps : (Array.isArray(data?.items) ? data.items : []);
const href = data?.href ?? "/methode/";

if (!items.length) {
  // rien
}
---

{items.length > 0 && (
<div class="container py-5 mb-5">
  <div class="row">
    {items.slice(0, 3).map((s, idx) => (
        <div class="col-md-4 mt-5">
          <div class="feature-box fbox-center border-0">
            <div class="fbox-icon">
              <a href={href}>
                <img
                    src={s.icon ?? "/assets/images/icons/research.svg"}
                    alt={s.alt ?? `Méthode ${idx + 1}`}
                    class="bg-transparent rounded-0"
                />
              </a>
            </div>
            <div class="fbox-content">
              <h2 class="h3 text-transform-none ls-0">{s.title ?? `${idx + 1}. Méthode`}</h2>
              <p>{s.text ?? ""}</p>
            </div>
          </div>
        </div>
    ))}
  </div>
</div>
  )}
