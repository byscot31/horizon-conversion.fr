---
// src/components/IntentionAnimation.astro
export interface Props {
  intention: 'transactionnelle' | 'investigationnelle' | 'informationnelle' | 'navigationnelle';
  type?: 'button' | 'badge' | 'card' | 'icon';
  children?: any;
  class?: string;
}

const { intention, type = 'button', class: className = '' } = Astro.props;

const animationClasses = {
  transactionnelle: {
    button: 'animate-urgent-pulse',
    badge: 'urgent-badge',
    card: 'intention-card urgent',
    icon: 'animate-urgent-pulse'
  },
  investigationnelle: {
    button: 'animate-compare',
    badge: 'bg-blue-100 text-blue-700 border-blue-300 animate-compare',
    card: 'intention-card compare',
    icon: 'animate-compare'
  },
  informationnelle: {
    button: 'animate-info',
    badge: 'bg-green-100 text-green-700 border-green-300 animate-info',
    card: 'intention-card info',
    icon: 'animate-discover'
  },
  navigationnelle: {
    button: 'animate-pulse',
    badge: 'bg-purple-100 text-purple-700 border-purple-300',
    card: 'hover:shadow-xl transition-all',
    icon: 'hover:scale-110 transition-transform'
  }
}[intention][type] || '';

const baseClasses = {
  button: 'px-6 py-3 rounded-full font-semibold transition-all duration-300',
  badge: 'px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1',
  card: 'p-6 rounded-xl transition-all duration-300',
  icon: 'w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300'
}[type];
---

<slot name="before" />

<div class={`${baseClasses} ${animationClasses} ${className}`} data-intention={intention}>
  <slot />
</div>

<slot name="after" />