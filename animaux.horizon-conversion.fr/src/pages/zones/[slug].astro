---
import LayoutSeo from "../../layouts/LayoutSEO.astro";
import JsonLd from "../../components/JsonLd.astro";
import FAQ from "../../components/FAQ.astro";
import InternalLinks from "../../components/InternalLinks.astro";
import CTA from "../../components/CTA.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const entries = await getCollection("zones");
  return entries.map((entry) => ({ params: { slug: entry.id }, props: { entry } }));
}

const { entry } = Astro.props;
const d = entry.data;
---

<LayoutSeo title={d.title} description={d.metaDescription} h1={d.h1}>
  <JsonLd type="zone" data={d} />

  <section>
    <h2>Objectif</h2>
    <p>Structurer une acquisition locale propre sur la zone, sans pages “clones”, et avec un suivi clair des demandes.</p>
  </section>

  <section style="margin-top: 18px;">
    <h2>Ce qu’on met en place</h2>
    <ul>
      <li>Pages orientées intention (services / métiers / villes)</li>
      <li>Maillage interne “triangle” pour renforcer la zone</li>
      <li>Tracking des appels et formulaires</li>
    </ul>
  </section>

  <CTA />

  <FAQ items={d.faqs ?? []} />
  <InternalLinks data={d} />
</LayoutSeo>
