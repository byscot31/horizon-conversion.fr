---
import LayoutSEO from "../../layouts/LayoutSEO.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const zones = await getCollection("zones");
  return zones.map((z) => ({ params: { slug: z.data.slug }, props: { z } }));
}

const { z } = Astro.props;
const { title, description, h1, around } = z.data;
---

<LayoutSEO title={title} description={description} h1={h1} pageType="ville">
  <article>
    <h1>{h1}</h1>

    <section>
      <h2>Interventions à {z.data.label} et autour</h2>
      <ul>
        {around.map((c) => <li>{c}</li>)}
      </ul>
    </section>

    <section>
      <h2>Contact</h2>
      <p><strong>Horizon Conversion Animaux</strong> — <a href="tel:0660921008">06 60 92 10 08</a> — <a href="mailto:contact@horizon-conversion.fr">contact@horizon-conversion.fr</a></p>
    </section>

    <div set:html={z.body} />
  </article>
</LayoutSEO>