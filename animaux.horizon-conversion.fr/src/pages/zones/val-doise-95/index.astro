---
// src/pages/zones/val-doise-95/index.astro
import LayoutSEO from "../../../layouts/LayoutSEO.astro";
import { JOBS } from "../../../data/jobs.ts";
import { ZONES, slugifyCity } from "../../../data/zones.ts";

const baseUrl = "https://animaux.horizon-conversion.fr";
const canonical = `${baseUrl}${Astro.url.pathname}`;

const zoneKey = "val-doise-95" as const;
const zone = (ZONES as any)[zoneKey];

const zoneName = "Val d’Oise (95)";

const title = `SEO local animaux ${zoneName} – Villes & stratégie locale | Horizon Conversion`;
const description =
  "Guide SEO local & Google Maps pour pros des animaux dans le Val d’Oise (95) : communes prioritaires, rayon, requêtes locales, pages métier×ville, Ads & tracking.";

const breadcrumbs = [
  { name: "Accueil", item: `${baseUrl}/` },
  { name: "Zones", item: `${baseUrl}/zones/` },
  { name: zoneName, item: canonical },
];

const townsAll: string[] = (zone?.towns?.length ? zone.towns : [
  "Cergy","Pontoise","L’Isle-Adam","Enghien-les-Bains","Sannois","Argenteuil","Franconville","Herblay-sur-Seine","Saint-Ouen-l’Aumône","Gonesse",
]);

const coreTowns = [
  "Cergy",
  "Pontoise",
  "Argenteuil",
  "Franconville",
  "L’Isle-Adam",
  "Enghien-les-Bains",
  "Sannois",
];

const otherTowns = townsAll
  .filter((t) => !coreTowns.includes(t))
  .slice(0, 14)
  .map((t) => ({ name: t, href: `/zones/${slugifyCity(t)}/` }));

const featuredJobSlugs = [
  "educateur-canin",
  "toiletteur",
  "comportementaliste",
  "pension-canine",
  "osteo-animalier",
  "veterinaire",
];

const featuredJobs = featuredJobSlugs
  .map((slug) => ({ slug, name: (JOBS as any)[slug]?.name as string | undefined }))
  .filter((x) => x.name);

const featuredMoneyPages = coreTowns.slice(0, 6).flatMap((town) =>
  featuredJobs.slice(0, 4).map((j) => ({
    town,
    jobSlug: j.slug,
    jobName: j.name!,
    href: `/zones/${slugifyCity(town)}/${j.slug}/`,
  }))
);

const queryGuides = [
  {
    q: "éducateur canin Cergy",
    why: "Intention très directe. Une page dédiée + preuves + CTA rapide augmente fortement les RDV.",
  },
  {
    q: "toiletteur chien Argenteuil",
    why: "Zone concurrentielle : il faut une page plus “service” (prix/booking/FAQ) + GBP + Ads si besoin.",
  },
  {
    q: "comportementaliste chien Franconville",
    why: "Requête souvent “problème → solution”. FAQ spécifique (peur/agressivité/anxiété) = meilleur matching.",
  },
  {
    q: "pension canine Pontoise",
    why: "Décision confiance. Mettre conditions, capacité, sécurité, visites, calendrier + preuves = leads qualifiés.",
  },
];

const travel = {
  radius: "≈ 15–25 km (souvent plus dense/concurrentiel) — ajustable selon activité",
  notes: [
    "Déplacements : privilégier une zone réaliste pour éviter les demandes hors secteur.",
    "Frais possibles au-delà d’un certain rayon (à formaliser via FAQ / conditions).",
    "Contraintes fréquentes : circulation, stationnement, créneaux serrés (penser “prise de RDV”).",
  ],
};

const faq = [
  {
    q: `Quel rayon d’intervention pour ${zoneName} ?`,
    a: "Souvent plus dense et concurrentiel : un rayon plus serré (15–25 km) peut mieux performer. On ajuste selon la réalité terrain et votre agenda.",
  },
  {
    q: "Pourquoi la page “métier × ville” est-elle clé ?",
    a: "Elle correspond exactement à la requête (“toiletteur chien Argenteuil”) : Google comprend mieux l’intention, et l’utilisateur convertit plus facilement.",
  },
  {
    q: "Quand activer les Ads ?",
    a: "Quand la concurrence est forte ou quand il faut remplir vite : Ads sur intentions rentables, pilotées au coût par lead + tracking propre.",
  },
];

const jsonLd = [
  {
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    name: title,
    url: canonical,
    description,
    isPartOf: { "@type": "WebSite", name: "Horizon Conversion Animaux", url: baseUrl },
  },
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    itemListElement: breadcrumbs.map((b, i) => ({
      "@type": "ListItem",
      position: i + 1,
      name: b.name,
      item: b.item,
    })),
  },
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    name: `Villes couvertes – ${zoneName}`,
    itemListElement: townsAll.slice(0, 30).map((t, i) => ({
      "@type": "ListItem",
      position: i + 1,
      name: t,
      url: `${baseUrl}/zones/${slugifyCity(t)}/`,
    })),
  },
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    name: `Pages métier × ville – ${zoneName}`,
    itemListElement: featuredMoneyPages.slice(0, 30).map((p, i) => ({
      "@type": "ListItem",
      position: i + 1,
      name: `${p.jobName} à ${p.town}`,
      url: `${baseUrl}${p.href}`,
    })),
  },
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    mainEntity: faq.map((f) => ({
      "@type": "Question",
      name: f.q,
      acceptedAnswer: { "@type": "Answer", text: f.a },
    })),
  },
];
---

<LayoutSEO
  title={title}
  description={description}
  baseUrl={baseUrl}
  canonical={canonical}
  ogType="website"
  ogImage={`${baseUrl}/og/zones-val-doise-95.jpg`}
  ogImageAlt="Val d’Oise (95) – Guide SEO local pros animaux"
  breadcrumbs={breadcrumbs}
  jsonLd={jsonLd}
>
<style>
  :global(body){margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial;color:#0f172a;background:#fff}
  .wrap{max-width:1040px;margin:0 auto;padding:28px 16px 72px}
  .breadcrumbs{font-size:14px;color:#475569;margin:4px 0 18px}
  .breadcrumbs a{color:inherit;text-decoration:none}
  header.hero{border:1px solid #e2e8f0;border-radius:18px;background:linear-gradient(180deg,#f8fafc,#fff);padding:22px;display:grid;gap:10px}
  h1{margin:0;font-size:34px;line-height:1.1;letter-spacing:-0.02em}
  .sub{margin:0;color:#334155;max-width:95ch;line-height:1.6}

  .grid{margin-top:18px;display:grid;grid-template-columns:1.1fr .9fr;gap:18px;align-items:start}
  @media (max-width:920px){.grid{grid-template-columns:1fr}}
  .card{border:1px solid #e2e8f0;border-radius:18px;padding:18px;background:#fff;box-shadow:0 6px 20px rgba(15,23,42,.06)}
  h2{margin:0 0 10px;font-size:18px}
  p{margin:0;color:#334155;line-height:1.6}
  ul{margin:10px 0 0;padding-left:18px;color:#334155;line-height:1.55}

  .pills{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
  .pill{display:inline-block;font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid #e2e8f0;background:#fff;color:#334155;text-decoration:none}
  .pill:hover{border-color:#cbd5e1;background:#f8fafc}

  .note{margin-top:12px;border:1px dashed #cbd5e1;border-radius:16px;padding:14px;background:#f8fafc;color:#334155;line-height:1.6}

  .ctaRow{margin-top:16px;display:grid;grid-template-columns:1fr 1fr;gap:12px}
  @media (max-width:720px){.ctaRow{grid-template-columns:1fr}}
  .btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 14px;border-radius:14px;border:1px solid #0f172a;background:#0f172a;color:#fff;cursor:pointer;font-weight:900;text-decoration:none}
  .btn.secondary{background:#fff;color:#0f172a}
  .meta{color:#475569;font-size:14px;line-height:1.6;margin-top:10px}

  .mini{display:grid;gap:10px}
  .miniCard{border:1px solid #e2e8f0;border-radius:16px;padding:14px;background:#fff}
  .miniCard strong{display:block;margin-bottom:6px}
  .link{color:#0f172a;text-decoration:none;border-bottom:1px solid rgba(15,23,42,.18)}
  .link:hover{border-bottom-color:rgba(15,23,42,.45)}
</style>

<div class="wrap">
  <nav class="breadcrumbs" aria-label="Fil d’Ariane">
    <a href="/">Accueil</a> <span aria-hidden="true">›</span>{" "}
    <a href="/zones/">Zones</a> <span aria-hidden="true">›</span>{" "}
    <span>Val d’Oise (95)</span>
  </nav>

  <header class="hero">
    <h1>Val d’Oise (95) : guide local SEO & acquisition</h1>
    <p class="sub">
      Zone souvent plus concurrentielle : on gagne avec une structure “<strong>1 intention = 1 page</strong>”
      + Google Maps + preuves + tracking. Ici, tu as un <strong>guide</strong> (communes, rayon, requêtes,
      et liens directs vers les pages <strong>métier×ville</strong>).
    </p>
  </header>

  <section class="grid">
    <div class="card">
      <h2>Communes prioritaires (cœur de zone)</h2>
      <p>À traiter en priorité (pages ville + pages métier×ville).</p>
      <div class="pills" aria-label="Communes prioritaires">
        {coreTowns.map((t) => (
          <a class="pill" href={`/zones/${slugifyCity(t)}/`}>{t}</a>
        ))}
      </div>

      <div class="note">
        <strong>Stratégie 95 :</strong> mieux vaut une zone serrée + pages très ciblées + GBP solide,
        plutôt qu’une couverture trop large qui dilue la pertinence.
      </div>

      <h2 style="margin-top:16px;">Rayon & déplacements (à expliciter)</h2>
      <div class="mini">
        <div class="miniCard">
          <strong>Rayon d’intervention conseillé</strong>
          <div class="meta" style="margin-top:0">{travel.radius}</div>
        </div>
        <div class="miniCard">
          <strong>Déplacements / frais / contraintes</strong>
          <ul>
            {travel.notes.map((x) => <li>{x}</li>)}
          </ul>
        </div>
      </div>

      <h2 style="margin-top:16px;">Requêtes locales qui convertissent (exemples)</h2>
      <p>On construit des pages utiles (pas du template) : sections variables + FAQ spécifique + CTA.</p>
      <div class="mini" style="margin-top:10px;">
        {queryGuides.map((q) => (
          <div class="miniCard">
            <strong>{q.q}</strong>
            <div class="meta" style="margin-top:0">{q.why}</div>
          </div>
        ))}
      </div>

      <div class="ctaRow">
        <a class="btn" href="/contact/">Demander un diagnostic</a>
        <a class="btn secondary" href="tel:+33660921008">Appeler : 06 60 92 10 08</a>
      </div>

      <p class="meta">
        Email :{" "}
        <a class="link" href="mailto:contact@horizon-conversion.fr">contact@horizon-conversion.fr</a>
      </p>
    </div>

    <aside class="card">
      <h2>Pages métier × ville (prioritaires)</h2>
      <p class="meta" style="margin-top:0;">
        Liens directs vers les pages “money” (intention forte) :
      </p>

      <ul>
        {featuredMoneyPages.slice(0, 14).map((p) => (
          <li>
            <a class="link" href={p.href}>{p.jobName} à {p.town}</a>
          </li>
        ))}
      </ul>

      <h2 style="margin-top:16px;">Villes proches (extension)</h2>
      <div class="pills" aria-label="Villes proches">
        {otherTowns.map((t) => (
          <a class="pill" href={t.href}>{t.name}</a>
        ))}
      </div>

      <h2 style="margin-top:16px;">Raccourcis</h2>
      <div class="pills" aria-label="Raccourcis">
        <a class="pill" href="/metiers/">Métiers</a>
        <a class="pill" href="/prestations/">Prestations</a>
        <a class="pill" href="/tarifs/">Tarifs</a>
        <a class="pill" href="/contact/">Contact</a>
      </div>
    </aside>
  </section>
</div>
</LayoutSEO>